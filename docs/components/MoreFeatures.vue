<template>
  <div>
    <div :dir="rtl ? 'rtl' : 'ltr'">
      <treeselect
        name="demo"
        :multiple="multiple"
        :clearable="clearable"
        :searchable="searchable"
        :disabled="disabled"
        :open-on-click="openOnClick"
        :open-on-focus="openOnFocus"
        :exclusive="exclusive"
        :show-count="showCount"
        :show-selected-children-count="showSelectedChildrenCount"
        :clear-on-select="clearOnSelect"
        :close-on-select="closeOnSelect"
        :always-open="alwaysOpen"
        :append-to-body="appendToBody"
        :options="options"
        :limit="3"
        :max-height="200"
        :value-consists-of="valueConsistsOf"
        v-model="value"
        />
    </div>
    <treeselect-value :value="value" />
    <p>
      <label><input type="checkbox" v-model="multiple">Multi-select</label>
      <label><input type="checkbox" v-model="clearable">Clearable</label>
      <label><input type="checkbox" v-model="searchable">Searchable</label>
      <label><input type="checkbox" v-model="disabled">Disabled</label>
    </p>
    <p>
      <label><input type="checkbox" v-model="openOnClick">Open on click</label>
      <label><input type="checkbox" v-model="openOnFocus">Open on focus</label>
      <label><input type="checkbox" v-model="exclusive">Exclusive</label>
    </p>
    <p>
      <label><input type="checkbox" v-model="showCount">Show children count</label>
      <label><input type="checkbox" v-model="showSelectedChildrenCount">Show selected children count</label>
    </p>
    <p>
      <label><input type="checkbox" v-model="clearOnSelect">Clear on select</label>
      <label><input type="checkbox" v-model="closeOnSelect">Close on select</label>
    </p>
    <p>
      <label><input type="checkbox" v-model="alwaysOpen">Always open</label>
      <label><input type="checkbox" v-model="appendToBody">Append to body</label>
      <label><input type="checkbox" v-model="rtl">RTL mode</label>
    </p>
    <p><strong>Value consists of:</strong></p>
    <p class="options">
      <label><input type="radio" value="ALL" v-model="valueConsistsOf">All</label><br>
    </p>
  </div>
</template>

<script>
  import { generateOptions } from './utils'

  export default {
    data: () => ({
      multiple: true,
      clearable: true,
      searchable: true,
      disabled: false,
      openOnClick: true,
      openOnFocus: false,
      exclusive: false,
      showCount: false,
      showSelectedChildrenCount: false,
      clearOnSelect: true,
      closeOnSelect: false,
      alwaysOpen: false,
      appendToBody: false,
      valueConsistsOf: 'ALL',
      rtl: false,
      value: [],
      options: generateOptions(2, 3),
    }),

    watch: {
      multiple(newValue) {
        if (newValue) {
          this.value = this.value ? [ this.value ] : []
        } else {
          this.value = this.value[0]
        }
      },
    },
  }
</script>
